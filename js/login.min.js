window.onload=init;let userData={name:"",mail:"",pwd:""};function init(){let userLogin,userMail,userPwd,userConfirmPassword,btnInscription;document.getElementById("name").addEventListener("input",verifyValidity),document.getElementById("mail").addEventListener("input",verifyValidity),document.getElementById("pwd").addEventListener("input",verifyValidity),document.getElementById("confirmPassword").addEventListener("input",verifyValidity),document.getElementById("btnInscription").addEventListener("click",createAccount)}var isValid=!1;function verifyValidity(e){let userLoginInput=e.target,psw=document.getElementById("pwd"),confirmPassword=document.getElementById("confirmPassword");""===userLoginInput.value?(userLoginInput.classList.remove("is-valid"),userLoginInput.classList.remove("is-invalid"),isValid=!1):"confirmPassword"===e.target.id?(console.log(psw.value===confirmPassword.value),psw.value!=confirmPassword.value?(confirmPassword.classList.remove("is-valid"),confirmPassword.classList.add("is-invalid"),isValid=!1):(confirmPassword.classList.add("is-valid"),confirmPassword.classList.remove("is-invalid"),isValid=!0)):""!==userLoginInput.value&&userLoginInput.checkValidity()?(userLoginInput.classList.add("is-valid"),userLoginInput.classList.remove("is-invalid"),isValid=!0):(userLoginInput.classList.remove("is-valid"),userLoginInput.classList.add("is-invalid"),isValid=!1)}function changeLogin(){let userLoginInput;return document.getElementById("name").value}function changeMail(){let userLoginInput;return document.getElementById("mail").value}function changePwd(){let userLoginInput;return document.getElementById("pwd").value}function confirmPassword(){let userLoginInput;return document.getElementById("confirmPassword").value}function createAccount(e){e.preventDefault();let btnInscription=document.getElementById("btnInscription");const NEWDIV=document.createElement("div"),NEW_P=document.createElement("p");if(isValid){userData={name:changeLogin(),mail:changeMail(),pwd:confirmPassword()};const newContent=document.createTextNode(`Bienvenue ${userData.name}, have fun !`);NEW_P.appendChild(newContent)}else{const newContent=document.createTextNode("Merci de remplir correctement le formulaire");NEW_P.appendChild(newContent)}NEWDIV.appendChild(NEW_P),document.insertBefore(NEWDIV,btnInscription),console.log(userData)}